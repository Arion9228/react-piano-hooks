(this["webpackJsonppiano-hooks"]=this["webpackJsonppiano-hooks"]||[]).push([[0],{12:function(n,e,t){},13:function(n,e,t){},28:function(n,e,t){"use strict";t.r(e);var a=t(0),o=t.n(a),i=t(5),r=t.n(i),c=(t(12),t(13),t(1)),u=t(2),s=t(3),l=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],f=[1,2,3,4,5,6,7].reduce((function(n,e){var t=l.map((function(n){return"".concat(n).concat(e)}));return[].concat(Object(c.a)(n),Object(c.a)(t))}),[]),y=function(n){return f.includes(n)&&n.includes("#")},d=function(n,e){return Object.keys(n).filter((function(t){return n[t]===e}))},m=t(6),p=t.n(m),g=window.AudioContext||window.webkitAudioContext,v={stop:function(){}},b={play:function(){return v}},N=function(){var n=g&&new g,e=b;return{setInstrument:function(t){p.a.instrument(n,t).then((function(n){e=n})).catch((function(n){e=b}))},playNote:function(n){return e.play(n)}}},E=function(){var n=N();return{setInstrument:function(e){n.setInstrument(e)},playNotes:function(e){n.playNote(e)}}},k=function(n){var e=n.instrumentName,t=n.notes,o=Object(a.useState)(null),i=Object(s.a)(o,2),r=i[0],c=i[1];Object(a.useEffect)((function(){c(E())}),[]),Object(a.useEffect)((function(){r&&(u(),l())}),[r]),Object(a.useEffect)((function(){t.length>0&&l()}),[t]);var u=function(){r.setInstrument(e)},l=function(){r.playNotes(t[0])};return null};var O=function(n){return!n.ctrlKey&&!n.metaKey&&!n.shiftKey},P=function(n){var e=n.instrumentName,t=n.startNote,i=n.endNote,r=n.renderPianoKey,l=n.keyboardMap,m=function(n,e){var t=f.indexOf(n),a=f.indexOf(e);return f.slice(t,a+1)}(t,i),p=Object(a.useState)({notesPlaying:[]}),g=Object(s.a)(p,2),v=g[0],b=g[1];Object(a.useEffect)((function(){window.addEventListener("keydown",E),window.addEventListener("keyup",P)}),[]);var N=function(n){return l[n.toUpperCase()]},E=function(n){if(O(n)&&!n.repeat){var e=N(n.key);e&&b(Object(u.a)({},v,{notesPlaying:[].concat(Object(c.a)(v.notesPlaying),[e])}))}},P=function(n){if(O(n)&&!n.repeat){var e=N(n.key);e&&b(Object(u.a)({},v,{notesPlaying:v.notesPlaying.filter((function(n){return n!==e}))}))}};return o.a.createElement(a.Fragment,null,m.map((function(n){return o.a.createElement(a.Fragment,{key:n},r({note:n,isAccidentalNote:y(n),isNotePlaying:v.notesPlaying.includes(n),startPlayingNote:function(){return function(n){b(Object(u.a)({},v,{notesPlaying:[].concat(Object(c.a)(v.notesPlaying),[n])}))}(n)},stopPlayingNote:function(){return function(n){b(Object(u.a)({},v,{notesPlaying:v.notesPlaying.filter((function(e){return e!==n}))}))}(n)},keyboardShortcut:d(l,n)}))})),o.a.createElement(k,{instrumentName:e,notes:v.notesPlaying}))},w=function(){var n=function(n){var e=n.isPlaying,t=n.text,a=n.eventHandlers;return o.a.createElement("div",{className:"piano-accidental-key-wrapper"},o.a.createElement("button",Object.assign({className:"piano-accidental-key ".concat(e?"piano-accidental-key-playing":""," ")},a),o.a.createElement("div",{className:"piano-text"},t)))},e=function(n){var e=n.isPlaying,t=n.text,a=n.eventHandlers;return o.a.createElement("button",Object.assign({className:"piano-natural-key ".concat(e?"piano-natural-key-playing":""," ")},a),o.a.createElement("div",{className:"piano-text"},t))};return o.a.createElement("div",{className:"piano-container"},o.a.createElement(P,{instrumentName:"acoustic_grand_piano",startNote:"C4",endNote:"B5",renderPianoKey:function(t){var a=t.isAccidentalNote,i=t.isNotePlaying,r=t.startPlayingNote,c=t.stopPlayingNote,u=t.keyboardShortcut,s=a?n:e,l={onMouseDown:r,onMouseUp:c,onTouchStart:r,onMouseOut:c,onTouchEnd:c};return o.a.createElement(s,{isPlaying:i,text:u.join("/"),eventHandlers:l})},keyboardMap:{Q:"C4",2:"C#4",W:"D4",3:"D#4",E:"E4",R:"F4",5:"F#4",T:"G4",6:"G#4",Y:"A4",7:"A#4",U:"B4",V:"C5",G:"C#5",B:"D5",H:"D#5",N:"E5",M:"F5",K:"F#5",",":"G5",L:"G#5",".":"A5",";":"A#5","/":"B5"}}))};var j=function(){return o.a.createElement("div",{className:"app-container"},o.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))},7:function(n,e,t){n.exports=t(28)}},[[7,1,2]]]);
//# sourceMappingURL=main.8fb5b8d1.chunk.js.map